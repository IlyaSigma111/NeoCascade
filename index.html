<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NeoCascade | –ö–∞–Ω–∞–ª—ã –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</title>
    
    <!-- –ú–µ—Ç—Ä–∏–∫–∞ -->
    <script>
        (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();
        for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
        k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
        (window, document,'script','https://mc.yandex.ru/metrika/tag.js','ym');
        ym(106798492, 'init', {ssr:true, webvisor:true, clickmap:true, trackLinks:true});
    </script>
    
    <!-- –®—Ä–∏—Ñ—Ç—ã –∏ –∏–∫–æ–Ω–∫–∏ -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#a78bfa">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <!-- –°—Ç–∏–ª–∏ -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- –ú–û–î–ê–õ–ö–ê –í–•–û–î–ê -->
    <div id="login-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <i class="fas fa-water"></i>
                <h2>NeoCascade</h2>
                <p>–í–æ–π–¥–∏—Ç–µ –≤ –∫–≤–∞–Ω—Ç–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ</p>
            </div>
            <div class="modal-body">
                <div id="login-form">
                    <div class="form-group">
                        <input type="email" id="login-email" placeholder="Email">
                        <i class="fas fa-envelope input-icon"></i>
                    </div>
                    <div class="form-group">
                        <input type="password" id="login-password" placeholder="–ü–∞—Ä–æ–ª—å">
                        <i class="fas fa-lock input-icon"></i>
                    </div>
                    <button class="btn btn-primary" id="email-login-btn">
                        <i class="fas fa-sign-in-alt"></i> –í–æ–π—Ç–∏
                    </button>
                    <div class="divider">–∏–ª–∏</div>
                    <button class="btn btn-google" id="google-login-btn">
                        <i class="fab fa-google"></i> Google
                    </button>
                    <button class="btn btn-admin" id="admin-login-btn">
                        <i class="fas fa-crown"></i> –ê–¥–º–∏–Ω
                    </button>
                    <p class="switch-text">
                        –ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="#" id="show-register">–°–æ–∑–¥–∞—Ç—å</a>
                    </p>
                </div>
                
                <div id="register-form" style="display: none;">
                    <div class="form-group">
                        <input type="text" id="register-name" placeholder="–í–∞—à–µ –∏–º—è">
                        <i class="fas fa-user input-icon"></i>
                    </div>
                    <div class="form-group">
                        <input type="email" id="register-email" placeholder="Email">
                        <i class="fas fa-envelope input-icon"></i>
                    </div>
                    <div class="form-group">
                        <input type="password" id="register-password" placeholder="–ü–∞—Ä–æ–ª—å (6+ —Å–∏–º–≤–æ–ª–æ–≤)">
                        <i class="fas fa-lock input-icon"></i>
                    </div>
                    <button class="btn btn-primary" id="email-register-btn">
                        <i class="fas fa-user-plus"></i> –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
                    </button>
                    <p class="switch-text">
                        –£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <a href="#" id="show-login">–í–æ–π—Ç–∏</a>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- –û–°–ù–û–í–ù–û–ô –ò–ù–¢–ï–†–§–ï–ô–° -->
    <div id="main-container" class="container" style="display: none;">
        <!-- –°–ê–ô–î–ë–ê–† -->
        <div class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <i class="fas fa-water"></i>
                    <h2>NeoCascade</h2>
                </div>
                
                <div class="user-profile">
                    <div class="avatar" id="user-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="user-info">
                        <div id="username">–ì–æ—Å—Ç—å</div>
                        <small id="user-status"><i class="fas fa-circle"></i> –Ω–µ –≤ —Å–µ—Ç–∏</small>
                    </div>
                    <button class="btn-icon" id="logout-btn" title="–í—ã–π—Ç–∏">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                </div>
            </div>
            
            <div class="chat-search">
                <i class="fas fa-search"></i>
                <input type="text" id="chat-search" placeholder="–ü–æ–∏—Å–∫ –∫–∞–Ω–∞–ª–æ–≤ –∏ —á–∞—Ç–æ–≤...">
            </div>
            
            <!-- –ö–ê–ù–ê–õ–´ (–ù–û–í–û–ï) -->
            <div id="channels-section" class="channels-section">
                <div class="section-header" id="channels-header">
                    <h4><i class="fas fa-broadcast-tower"></i> –ö–ê–ù–ê–õ–´</h4>
                    <button class="btn-icon-small" id="create-channel-btn" title="–°–æ–∑–¥–∞—Ç—å –∫–∞–Ω–∞–ª">
                        <i class="fas fa-plus"></i>
                    </button>
                </div>
                <div id="channels-list" class="channels-list"></div>
            </div>
            
            <!-- –¢–ï–ú–´ -->
            <div id="topic-list" style="padding: 8px 0;"></div>
            
            <!-- –ö–ù–û–ü–ö–ê –°–û–ó–î–ê–ù–ò–Ø –¢–ï–ú–´ -->
            <button id="create-topic-btn">
                <i class="fas fa-plus-circle"></i> –°–æ–∑–¥–∞—Ç—å —Ç–µ–º—É
            </button>
            
            <!-- –ì–û–õ–û–°–û–í–´–ï –ö–ê–ù–ê–õ–´ (–Ø–Ω–¥–µ–∫—Å –¢–µ–ª–µ–º–æ—Å—Ç) -->
            <div id="voice-channels" class="voice-channels" style="padding: 8px 0;"></div>
            
            <!-- –ö–û–ù–¢–ê–ö–¢–´ -->
            <div id="contacts-list" style="padding: 8px 0;"></div>
            
            <!-- –ß–ê–¢–´ -->
            <div class="chat-list" id="chat-list">
                <div class="chat-item active" data-chat="general">
                    <div class="chat-icon general">
                        <i class="fas fa-globe"></i>
                    </div>
                    <div class="chat-info">
                        <div class="chat-name">–û–±—â–∏–π —á–∞—Ç</div>
                        <div class="chat-preview">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</div>
                    </div>
                </div>
            </div>
            
            <button class="btn-video" id="start-group-call">
                <i class="fas fa-video"></i> –°–æ–∑–¥–∞—Ç—å –≤–∏–¥–µ–æ–∑–≤–æ–Ω–æ–∫
            </button>
        </div>
        
        <!-- –û–ë–õ–ê–°–¢–¨ –ß–ê–¢–ê -->
        <div class="chat-area">
            <div class="chat-header">
                <div class="chat-title">
                    <div class="avatar" id="current-chat-avatar">
                        <i class="fas fa-globe"></i>
                    </div>
                    <div>
                        <h3 id="chat-title">–û–±—â–∏–π —á–∞—Ç</h3>
                        <p id="chat-status" class="online">‚óè –≤ —Å–µ—Ç–∏</p>
                    </div>
                </div>
                <div class="chat-actions">
                    <button class="btn-icon" id="join-call-btn" title="–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –∑–≤–æ–Ω–∫—É" disabled>
                        <i class="fas fa-phone"></i>
                    </button>
                </div>
            </div>
            
            <div class="messages" id="messages-container">
                <div class="welcome-message">
                    <i class="fas fa-water"></i>
                    <h3>NeoCascade</h3>
                    <p>–í–æ–π–¥–∏—Ç–µ —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –æ–±—â–µ–Ω–∏–µ</p>
                </div>
            </div>
            
            <!-- –ü–ê–ù–ï–õ–¨ –†–ï–ê–ö–¶–ò–ô (–ù–û–í–û–ï) -->
            <div id="reaction-panel" class="reaction-panel" style="display: none;">
                <button class="reaction-btn" data-emoji="üëç">üëç</button>
                <button class="reaction-btn" data-emoji="‚ù§Ô∏è">‚ù§Ô∏è</button>
                <button class="reaction-btn" data-emoji="üòÇ">üòÇ</button>
                <button class="reaction-btn" data-emoji="üòÆ">üòÆ</button>
                <button class="reaction-btn" data-emoji="üò¢">üò¢</button>
                <button class="reaction-btn" data-emoji="üëé">üëé</button>
            </div>
            
            <!-- –ö–û–ú–ú–ï–ù–¢–ê–†–ò–ò (–ù–û–í–û–ï) -->
            <div id="comments-section" class="comments-section" style="display: none;">
                <div class="comments-header">
                    <h4><i class="fas fa-comments"></i> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</h4>
                    <button class="btn-icon-small" id="close-comments">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div id="comments-list" class="comments-list"></div>
                <div class="comment-input-wrapper">
                    <input type="text" id="comment-input" placeholder="–ù–∞–ø–∏—Å–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π...">
                    <button class="btn-send-comment" id="send-comment-btn">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
            
            <div class="message-input">
                <button class="btn-voice" id="voice-btn" title="–ì–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ">
                    <i class="fas fa-microphone"></i>
                </button>
                <input type="text" id="message-input" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." disabled>
                <button class="btn-send" id="send-btn" disabled>
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- –í–ò–î–ï–û–ó–í–û–ù–û–ö -->
    <div id="video-call-container" class="video-call">
        <div class="video-grid">
            <div class="video-wrapper">
                <video id="local-video" autoplay muted playsinline></video>
                <div class="video-label">–í—ã</div>
            </div>
        </div>
        <div class="video-controls">
            <button class="btn-call" id="toggle-video" title="–í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –≤–∏–¥–µ–æ">
                <i class="fas fa-video"></i>
            </button>
            <button class="btn-call" id="toggle-audio" title="–í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –º–∏–∫—Ä–æ—Ñ–æ–Ω">
                <i class="fas fa-microphone"></i>
            </button>
            <button class="btn-call btn-end" id="end-call" title="–ó–∞–≤–µ—Ä—à–∏—Ç—å –∑–≤–æ–Ω–æ–∫">
                <i class="fas fa-phone-slash"></i>
            </button>
        </div>
    </div>

    <!-- –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø -->
    <div id="notification-container"></div>

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-storage-compat.js"></script>
    
    <!-- –°–∫—Ä–∏–ø—Ç -->
    <script src="script.js"></script>
</body>
</html>
